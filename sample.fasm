func static_data;
//push_i32 1000;
//push_i32 1001;
ret;

//add function;
func add;
mov_i32 r0 @$-2;
mov_i32 r1 @$-1;
add_i32 r0 r1;
mov_i32 rs r0;
ret;

//sub function;
//func sub;
//mov_i32 r0 @$-1;
//mov_i32 r1 @$;
//sub_i32 r0 r1;
//mov_i32 rs r0;
//pop_i32;
//pop_i32;
//ret;

func add3;
call add;
call add;
put_i32 @$;
put_i32 @$-1;
put_i32 @$-2;
ret;

func main;
push_i32 1;
push_i32 2;
push_i32 3;
put_i32 @$;
call add;
push_i32 rs;
put_i32 @$;
pop_i32;
pop_i32;
pop_i32;
pop_i32;
ret;

